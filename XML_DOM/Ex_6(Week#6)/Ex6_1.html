<!DOCTYPE html>
<html>
<head>
    <script>
        function loadXMLDoc(filename){
            xhttp = new XMLHttpRequest();
            xhttp.open("GET", filename, false);
            xhttp.send();
            return xhttp.responseXML;
        }
        
        function first_child(node){
            if(node.hasChildNodes){
                var children = node.childNodes;
                for(var i=0; i<children.length; i++){
                    if(children[i].nodeType==1 && children[i]!=null)
                        return children[i];
                }
            }
            return null;
        }
        
        function last_child(node){
            if(node.hasChildNodes){
                var children = node.childNodes;
                for(var i=children.length-1; i>=0; i--){
                    if(children[i].nodeType==1 && children[i]!=null)
                        return children[i];
                }
            }
            return null;
        }
        
        function next_sibling(node){
            var next = node.nextSibling;
            if(!next) return null;	
			else if(next.nodeType == 1) return next;	
			else {
				next = next_sibling(next);	
				return next;
			}
        }
    
        function prev_sibling(node){
            var prev = node.previousSibling;
            if(!prev) return null;	
			else if(prev.nodeType == 1) return prev;	
			else {
				prev = prev_sibling(prev);
				return prev;
			}
        }
        
        // Testing for above functions.
        /*
        xmlDoc = loadXMLDoc("books.xml");
		
		var firstChildNode = first_child(xmlDoc.getElementsByTagName("book")[0]);
		var lastChildNode = last_child(xmlDoc.getElementsByTagName("book")[0]);

		document.write("first child : " + "<p>" + firstChildNode.childNodes[0].nodeValue +"</p>");
		document.write("last child : " + "<p>" + lastChildNode.childNodes[0].nodeValue +"</p>");

		var nextSiblingNode = next_sibling(xmlDoc.getElementsByTagName("book")[1]);
		var prevSiblingNode = prev_sibling(xmlDoc.getElementsByTagName("book")[2]);

		document.write("next sibling : " + "<p>" + first_child(nextSiblingNode).childNodes[0].nodeValue +"</p>");
		document.write("prev sibling : " + "<p>" + first_child(prevSiblingNode).childNodes[0].nodeValue +"</p>");
        */
        
    </script>
</head>

<body>
</body>
</html>